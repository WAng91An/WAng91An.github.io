---
layout: post
title:  mybatis pagehelper
date: 2018-01-16 00:00:00 +0300
description: mybatis pagehelper # Add post description (optional)
img: software.jpg # Add image post (optional)
tags: [mybatis] # add tag
---
对于使用Mybatis时，最头痛的就是写分页，需要先写一个查询count的select语句，然后再写一个真正分页查询的语句，当查询条件多了之后，会发现真不想花双倍的时间写count和select，可以发现，重复的代码太多，虽然说复制粘贴简单的很，但是文件的长度在成倍的增加，以后翻阅代码的时候头都能大了。
于是希望只写一个select语句，count由插件根据select语句自动完成。找啊找啊，发现PageHelperhttps://github.com/pagehelper/Mybatis-PageHelper 符合要求

### 使用过程
1.引入pageHelper
```
<dependency>
      <groupId>com.github.pagehelper</groupId>
      <artifactId>pagehelper</artifactId>
</dependency>
```
2.mybatis-config注册
```
 <plugins>
        <plugin interceptor="com.github.pagehelper.PageInterceptor"></plugin>
</plugins>
```
3.查询之前只需要调用,传入页码，每页的大小
```
PageHelper.startPage(pn,5);
```
4.startPage后面紧跟的查询是一个分页查询
```
List<Employee> employeeList = iEmployeeService.getAll();
```
5.使用pageInfo包装查询后的结果
```
PageInfo pageInfo = new PageInfo(employeeList);
```










